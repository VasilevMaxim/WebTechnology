<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="css/style.css">
    <title>Заказ мебели</title>
</head>
<body>
    <section>
        <h2>Тригонометрические функции</h2>
        <h3>Выберите нужные пункты</h3>
        <form>


            <span class="label">Угол в градусах (от 0 до 90)</span>
            <input name = "angel" type="text" id = "count_order" placeholder="0 ... 0" onChange="check_input(this)">
            <span class="label_error">! Некорректный угол</span>

            <span class="label">Функция</span>
            <select name="function" id="type_select">
                <option value="sin">Синус</option>
                <option value="cos">Косинус</option>
                <option value="tan">Тангенс</option>
            </select>
            
        </form>

        <button class="submit" onclick="calc()">Вычислить</button>

        <span class="label">Результат</span>
        <input name = "result" type="text" id = "result" placeholder="0">

    </section>

    <script>
    
    function isNumeric(n){
        return !isNaN(parseFloat(n)) && isFinite(n);
    }

    function check_input(input){
        var value = input.value;
       
        if (!isNumeric(value) || value > 90 || value < 0 || value == ""){
            var error = document.getElementsByClassName("label_error")[0];
            error.style.opacity = 1;
            return false;
        }
        else{
            document.getElementsByClassName("label_error")[0].style.opacity = 0;
            return true;
        }
    }

    function calc(){
        var input = document.getElementById("count_order");
       
        if (check_input(input)){
            document.getElementsByClassName("label_error")[0].style.opacity = 0;

            var function_name = document.getElementById("type_select").value;

            var operation = "Math." + function_name + "(" + input.value * 3.14 / 180 + ")";
            var result = eval(operation);
            document.getElementById("result").value = result;
        }
        else{
            document.getElementsByClassName("label_error")[0].style.opacity = 1;
            document.getElementById("result").value = "неверный угол";
        }
    }

            
       
    </script>
</body>
</html>